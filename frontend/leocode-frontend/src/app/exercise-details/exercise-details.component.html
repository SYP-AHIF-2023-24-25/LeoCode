<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#">LeoCode</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
</nav>

<div class="container-fluid">
  <div class="row justify-content-center">
    <div class="col-md-10">
      <div class="card mt-3">
        <div class="card-body d-flex justify-content-between align-items-center">
          <h2 class="card-title display-4">Exercise Details</h2>

          <div class="text-right">
            <p class="mb-1" style="font-size: 16px;">Created on: {{ exercise.dateCreated | date: 'mediumDate' }}</p>
            <p class="mb-0" style="font-size: 18px;">Creator: {{ exercise.creator }}</p>
          </div>
        </div>

        <div class="card-body">
          <div *ngIf="userName == exercise.creator">
            <h1>Exercise Name</h1>  
            <div class="form-group">
              <textarea class="form-control" rows="5" style="height: 50px; width: 300px" [(ngModel)]="exercise.name" placeholder={{exercise.name}}></textarea>
            </div>

            <h1>Introduction</h1>
            <div class="form-group">
              <textarea class="form-control" rows="5" style="height: 300px; width: 1000px" [(ngModel)]="exercise.description" placeholder={{exercise.description}}></textarea>
            </div>

             <!-- AusgewÃ¤hlte Tags anzeigen -->
             <form>
              <mat-form-field class="example-chip-list" style="width: 1000px">
                <mat-label>Chosen Tags</mat-label>
                <mat-chip-grid #chipGrid aria-label="Tag selection">
                  <mat-chip-row *ngFor="let tag of exercise.tags" (removed)="removeTag(tag)">
                    {{tag}}
                    <button matChipRemove [attr.aria-label]="'remove ' + tag">
                      <mat-icon>cancel</mat-icon>
                    </button>
                  </mat-chip-row>
                </mat-chip-grid>
                <input placeholder="New Tag..." #tagInput [formControl]="tagCtrl"
                  [matChipInputFor]="chipGrid" [matAutocomplete]="auto"
                  [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                  (matChipInputTokenEnd)="addTag($event)"/>
                <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
                  <mat-option *ngFor="let tag of filteredTags | async" [value]="tag">
                    {{tag}}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
            </form>

          </div>

          <div *ngIf="userName != exercise.creator">
            <h1>Exercise Name</h1>
            <div class="form-group">
              <textarea readonly="true" class="form-control" rows="5" style="height: 50px; width: 300px" [(ngModel)]="exerciseName" placeholder={{exerciseName}}></textarea>
            </div>

            <h1>Introduction</h1>
            <div class="form-group">
              <textarea readonly="true" class="form-control" rows="5" style="height: 300px; width: 1000px" [(ngModel)]="exercise.description" placeholder={{exercise.description}}></textarea>
            </div>

            <h1>Tags</h1>
            <ul>
              <li *ngFor="let tag of exercise.tags">
                {{ tag }}
              </li>
            </ul>
          </div>

          <div class="d-flex">
            <button class="btn btn-primary" [routerLink]="['/test-results']" [queryParams]="{userName: userName, exerciseName: exercise.name}">Run Test</button>

            <div *ngIf="userName == exercise.creator">
              <button class="btn btn-primary ml-2" (click)="SaveChanges()">Save Changes</button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
